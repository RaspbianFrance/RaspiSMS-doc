<!DOCTYPE html>
<html  lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>Adaptateur Gammu</title>
    
      <link rel="stylesheet" href="../../_static/pygments.css">
      <link rel="stylesheet" href="../../_static/theme.css">
      <link rel="stylesheet" href="../../_static/sphinx_press_theme.css">
          <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
      
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>

      
      <script src="../../_static/theme-vendors.js"></script>
      <script src="../../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Recherche" href="../../search.html" />
  <link rel="next" title="Groupes et contacts" href="../groups_and_contacts/overview.html" />
  <link rel="prev" title="Adaptateur Octopush Shortcode" href="octopush_shortcode.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../../index.html" class="home-link">
    
      <img class="logo" src="../../_static/logo.png" alt="doit logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="https://raspisms.fr"
        class="nav-link external">
          Site du projet <outboundlink/>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://github.com/RaspbianFrance/RaspiSMS"
        class="nav-link external">
          Github <outboundlink/>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="https://raspisms.fr"
        class="nav-link external">
          Site du projet <outboundlink/>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://github.com/RaspbianFrance/RaspiSMS"
        class="nav-link external">
          Github <outboundlink/>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Recherche rapide</span>
    <div class="searchformwrapper">
      <form class="search" action="../../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Recherche" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
    <div class="sidebar-group">
        <p class="caption"><span class="caption-text">Table des matières</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../overview.html">Pour les utilisateurs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="overview.html">Les Adaptateurs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html#objectif-des-adapateurs">Objectif des adapateurs</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="overview.html#adaptateurs-disponibles">Adaptateurs disponibles</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ovh_virtual_number.html">Adaptateur OVH SMS Numéro Virtuel</a></li>
<li class="toctree-l4"><a class="reference internal" href="ovh_shortcode.html">Adaptateur OVH SMS Shortcode</a></li>
<li class="toctree-l4"><a class="reference internal" href="twilio_virtual_number.html">Adaptateur Twilio Numéro Virtuel</a></li>
<li class="toctree-l4"><a class="reference internal" href="octopush_virtual_number.html">Adaptateur Octopush Numéro Virtuel</a></li>
<li class="toctree-l4"><a class="reference internal" href="octopush_shortcode.html">Adaptateur Octopush Shortcode</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Adaptateur Gammu</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#fonctionnalites-supportees">Fonctionnalités supportées</a></li>
<li class="toctree-l5"><a class="reference internal" href="#configurer-gammu">1. Configurer Gammu</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#trouver-un-modem-gsm-compatible">1.1 Trouver un modem GSM compatible</a></li>
<li class="toctree-l6"><a class="reference internal" href="#configurer-gammu-pour-utiliser-le-modem-gsm">1.2 Configurer gammu pour utiliser le modem GSM</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#quel-fichier-de-configuration-utiliser">1.2.1 Quel fichier de configuration utiliser ?</a></li>
<li class="toctree-l7"><a class="reference internal" href="#exemple-de-fichier-de-configuration">1.2.2 Exemple de fichier de configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#ajouter-un-telephone-dans-raspisms">2. Ajouter un téléphone dans RaspiSMS</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#le-nom-du-telephone">2.1 Le nom du téléphone</a></li>
<li class="toctree-l6"><a class="reference internal" href="#renseigner-le-fichier-de-configuration">2.2 Renseigner le fichier de configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="#utiliser-un-code-pin">2.3 Utiliser un code PIN</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../groups_and_contacts/overview.html">Groupes et contacts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../templating/overview.html">SMS dynamiques et templating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/overview.html">Commandes par SMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/starting.html">Commencer à utiliser RaspiSMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developpers/overview.html">Pour les développeurs</a></li>
</ul>

    </div>
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../overview.html">Pour les utilisateurs</a> &raquo;</li>
    
      <li><a href="overview.html">Les Adaptateurs</a> &raquo;</li>
    
    <li>Adaptateur Gammu</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="octopush_shortcode.html"
       title="Chapitre précédent">← Adaptateur Octopush Shortcode</a>
  </li>
  <li class="next">
    <a href="../groups_and_contacts/overview.html"
       title="Chapitre suivant">Groupes et contacts →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <div class="section" id="adaptateur-gammu">
<h1>Adaptateur Gammu<a class="headerlink" href="#adaptateur-gammu" title="Lien permanent vers ce titre">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>L’adaptateur Gammu n’est disponible qu’en mode auto-hébergement car il nécessite un équipement physique relié à la machine.</p>
</div>
<p>L’adaptateur Gammu permet l’utilisation d’un modem GSM et d’une carte SIM branchée physiquement au serveur hébergeant RaspiSMS, en se basant sur l’utilisation du logiciel Gammu.</p>
<p>Cette méthode permet d’utiliser un forfait téléphonique classique avec RaspiSMS et vous permet d’envoyer et de recevoir des messages.</p>
<div class="section" id="fonctionnalites-supportees">
<h2>Fonctionnalités supportées<a class="headerlink" href="#fonctionnalites-supportees" title="Lien permanent vers ce titre">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 64%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Fonctionnalité</p></th>
<th class="head"><p>Support</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Envoi de SMS</p></td>
<td><p>Oui</p></td>
</tr>
<tr class="row-odd"><td><p>Réception de SMS</p></td>
<td><p>Oui</p></td>
</tr>
<tr class="row-even"><td><p>Suivi de l’envoi</p></td>
<td><p>Non</p></td>
</tr>
<tr class="row-odd"><td><p>SMS Flash</p></td>
<td><p>Non</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configurer-gammu">
<h2>1. Configurer Gammu<a class="headerlink" href="#configurer-gammu" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour pouvoir utiliser l’adaptateur Gammu, les logiciels <code class="docutils literal notranslate"><span class="pre">gammu</span></code> et <code class="docutils literal notranslate"><span class="pre">python3-gammu</span></code> doivent êtres installés sur le serveur. Vous devrez également avoir un modem GSM avec une carte SIM reliée au serveur.</p>
<div class="section" id="trouver-un-modem-gsm-compatible">
<h3>1.1 Trouver un modem GSM compatible<a class="headerlink" href="#trouver-un-modem-gsm-compatible" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour commencez vous aurez besoin d’un modem GSM compatible avec Gammu, pour cela reportez-vous à <a class="reference external" href="https://fr.wammu.eu/phones/">la liste des modems supportés par gammu</a>.</p>
<p>Nous vous conseillons d’utiliser directement <a class="reference external" href="https://geni.us/sim800">un modem SIM800L</a>, plus simple à trouver, moins cher et totalement compatible avec Gammu.</p>
</div>
<div class="section" id="configurer-gammu-pour-utiliser-le-modem-gsm">
<h3>1.2 Configurer gammu pour utiliser le modem GSM<a class="headerlink" href="#configurer-gammu-pour-utiliser-le-modem-gsm" title="Lien permanent vers ce titre">¶</a></h3>
<p>Une fois que vous avez relié votre modem GSM au serveur vous devez encore configurer Gammu pour utiliser ce GSM. Pour cela vous devez créer un fichier de configuration que vous renseignerez par la suite dans RaspiSMS. Pour créer ce fichier de configuration reportez-vous à <a class="reference external" href="https://wammu.eu/docs/manual/config/index.html">la documentation de gammu</a>.</p>
<p>Pour générer le fichier de configuration vous pouvez utiliser les commandes <code class="docutils literal notranslate"><span class="pre">gammu-config</span></code> et <code class="docutils literal notranslate"><span class="pre">gammu-detect</span></code>, là encore reportez-vous à la documentation de gammu sur <a class="reference external" href="https://wammu.eu/docs/manual/utils/gammu-detect.html">gammu-detect</a> et <cite>gammu-config</cite>.</p>
<div class="section" id="quel-fichier-de-configuration-utiliser">
<h4>1.2.1 Quel fichier de configuration utiliser ?<a class="headerlink" href="#quel-fichier-de-configuration-utiliser" title="Lien permanent vers ce titre">¶</a></h4>
<p>Généralement, gammu utilise le fichier <code class="docutils literal notranslate"><span class="pre">/etc/gammu.rc</span></code> pour stocker la configuration. Dans notre cas nous avons plutôt intérêt à créer un fichier de configuration à part pour chaque téléphone. Le chemin de ce fichier sera ensuite renseigné dans RaspiSMS afin d’être utilisé lors de l’appel interne à Gammu.</p>
<p>Créez donc un nouveau fichier avec un nom au format <code class="docutils literal notranslate"><span class="pre">/etc/gammu_&lt;id_unique&gt;.rc</span></code>.</p>
</div>
<div class="section" id="exemple-de-fichier-de-configuration">
<h4>1.2.2 Exemple de fichier de configuration<a class="headerlink" href="#exemple-de-fichier-de-configuration" title="Lien permanent vers ce titre">¶</a></h4>
<p>Voici un exemple de fichier de configuration que vous pouvez utiliser comme base à adapter pour votre propre modem GSM</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">[gammu]</span>
<span class="x">device = /dev/ttyUSB0</span>
<span class="x">name = Phone on USB serial port HUAWEI_Technologies HUAWEI_Mobile</span>
<span class="x">connection = at</span>
<span class="x">log_file = /var/log/raspisms/gammu_uid.log</span>
<span class="x">log_format = textalldate</span>
<span class="x">gammu_coding = utf8</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ajouter-un-telephone-dans-raspisms">
<h2>2. Ajouter un téléphone dans RaspiSMS<a class="headerlink" href="#ajouter-un-telephone-dans-raspisms" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans RaspiSMS, rendez-vous dans la partie <strong>« Téléphones »</strong>, <strong>« Ajouter un téléphone »</strong> et dans la liste <strong>« Adaptateur logiciel du téléphone »</strong> choisissez <strong>« Gammu »</strong>.</p>
<div class="section" id="le-nom-du-telephone">
<h3>2.1 Le nom du téléphone<a class="headerlink" href="#le-nom-du-telephone" title="Lien permanent vers ce titre">¶</a></h3>
<p>Dans le champ <strong>« Nom »</strong> donnez un nom unique au téléphone que vous allez créer. Ce nom n’apparaît que pour vous, jamais pour les destinataires du message.</p>
</div>
<div class="section" id="renseigner-le-fichier-de-configuration">
<h3>2.2 Renseigner le fichier de configuration<a class="headerlink" href="#renseigner-le-fichier-de-configuration" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il est possible d’utiliser plusieurs téléphones gammu en même temps. Pour cela, RaspiSMS doit savoir exactement quel fichier de configuration utiliser pour chaque téléphone.
Copiez donc le chemin du fichier de configuration que vous venez de créer (<code class="docutils literal notranslate"><span class="pre">/etc/gammu_&lt;id_unique&gt;.rc</span></code>), et collez-le dans le champ <strong>« Fichier de configuration »</strong>.</p>
</div>
<div class="section" id="utiliser-un-code-pin">
<h3>2.3 Utiliser un code PIN<a class="headerlink" href="#utiliser-un-code-pin" title="Lien permanent vers ce titre">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Laissez ce champ vide si votre carte SIM n’utilise pas de code PIN.</p>
</div>
<p>Si votre carte SIM utilise un code PIN vous devez entrer ce code PIN dans le champ <strong>« Code Pin »</strong> dans RaspiSMS.</p>
<p>Et voilà, vous pouvez maintenant envoyer et recevoir des SMS avec Gammu et RaspiSMS !</p>
</div>
</div>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="octopush_shortcode.html"
       title="Chapitre précédent">← Adaptateur Octopush Shortcode</a>
  </li>
  <li class="next">
    <a href="../groups_and_contacts/overview.html"
       title="Chapitre suivant">Groupes et contacts →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2020, OsaAjani.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.0 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>